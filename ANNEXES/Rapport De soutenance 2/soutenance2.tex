\documentclass{article}
\usepackage[francais]{babel}
\usepackage[UTF8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{eurosym}
\usepackage{color}
\usepackage{graphicx}
\usepackage{soul}

\pagestyle{fancyplain} \chead{}\lhead{\textit{Les Professionnels}} \rhead{\emph{\textit{Evasion}}}

\definecolor{pseudorouge}{RGB}{200, 50, 50}
\definecolor{pseudoblue}{RGB}{20,10,230}
\definecolor{texteGris}{RGB}{50,50,75}

\begin{document}
\thispagestyle{empty}
\begin{center}
\fontsize{21}{21}{\textbf{Rapport de Soutenance 2 \vspace*{0.2cm}\newline\textit{Evasion}}}
\end{center}

\vspace*{0.7cm}

\begin{center}
\fontsize{21}{21}{\textbf{- Les Professionnels/}}
\fontsize{21}{21}{\textbf{2013-2014 -}}
\end{center}

\vspace*{0.5cm}

\begin{center}
\includegraphics[scale=01.0]{evasion}
\end{center}

\vspace*{0.5cm}

\fontsize{14}{14}
\begin{center}
{Lenny \textcolor{pseudorouge}{\textit{"Le Noob"}} Danino - danino\_l}
\end{center}
\begin{center}
Louis \textcolor{pseudoblue}{\textit{"El Parain"}} Kédémos - kedemo\_l
\end{center}
\begin{center}
Anatole \textcolor{pseudoblue}{\textit{"Totonut"}} Moreau - moreau\_a
\end{center}
\begin{center}
Khalis Chalabi - chalab\_k
\end{center}

\begin{center}
\includegraphics[scale=00.20]{infini}
\end{center}

\newpage
\thispagestyle{empty}
\tableofcontents

\newpage
\fontsize{12}{12}
\pagenumbering{arabic}
\section{Introduction}

\newpage

\section{Avancements}
\subsection{Louis\textcolor{pseudoblue}{\textit{"El Parrain"}} Kedemos}

\subsubsection{Expérience personnelle}
Avant cette soutenance, nous avons disposé de deux semaines de vacances, ou du moins, de deux semaines sans cours. Je pense que cela a été bénéfique pour réaliser une grosse avancée dans notre projet. En effet, nous n'avons pas eu cette fois-ci le stress lié aux révisions ou aux cours. Se réunir pendant ces deux semaines a été plus facile qu'en période de cours. \newline
Comme à la première soutenance, j'ai dû laisser de côté certaines idées de réalisations. J'espère avoir le temps, pour la troisième soutenance, de les réaliser. En revanche, certaines choses, que je n'avais pas prévu à l'origine, ont été développées.

\subsubsection{Avancement de la 3D}
Notre jeu est développé en \bsc{3D}. Mettre de côté ce point pendant le développement du jeu est impensable. C'est pourquoi de gros progrès ont été réalisés à ce niveau. Au moment de la première soutenance, pour créer un personnage ou un mur en \bsc{3D}, il fallait faire tout un tas de déclarations dans le fichier du jeu principal. Il devenait urgent de rendre la création \bsc{3D} plus facile, pour permettre des phases de tests le plus tôt possible. J'ai donc écrit des classes qui rendent possible l'instanciation, l'affichage et la manipulation des modèles \bsc{3D} aisés :

\begin{quote}
\textcolor{texteGris}{
Evasion.Affichage.\_3D.Perso\_Model michael;\\
michael = new Affichage.\_3D.Perso\_Model(Content, new Vector3(20, 0, 20), viewMatrix, aspectRatio, graphics, 1);\\
michael.Update();\\
michael.Draw();}
\end{quote}

Ces quatre lignes, placées au bon endroit, nous permettent de manipuler un personnage en \bsc{3D}. On peut le faire se déplacer dans les quatre directions, on peut le faire tourner sur lui même.\\

Les déplacements ont été l'un des principaux problèmes que j'ai rencontré. Pour modifier la position ou la rotation d'un modèle dans son espace \bsc{3D}, l'utilisation de matrices est nécessaire. Il faut effectuer plusieurs produits matriciels à la suite. En premier, on multiplie la matrice de position du squelette du modèle par l'échelle souhaitée. Cela permet un redimensionnement. On multiplie ensuite le résultat par trois matrices de rotation, une pour chaque axe. Enfin, on multiplie le résultat par la translation que l'on souhaite faire faire au modèle. Tout cela permet d'obtenir une bonne rotation et une bonne translation du modèle \bsc{3D}. 
Or, le produit matriciel n'est pas commutatif. C'est à dire que pour deux matrices A et B, le produit \bsc{AB} est différent du produit \bsc{BA}. Pour la première soutenance, je n'avais pas suivi le même ordre que celui énoncé précédemment. Le résultat obtenu n'était donc pas celui espéré. Les cours de math qui ont suivi la première soutenance portaient sur les matrices. J'ai ainsi pu me rendre compte de mon erreur. La première illustration montre comment le personnage se déplaçait lors de la première soutenance : 

\begin{figure}[h]
\begin{center}
\includegraphics[scale=0.5]{deplac1.jpg}
\caption{Déplacement première soutenance}
\end{center}
\end{figure}
On peut voir que le personnage ne pouvait que se rapprocher ou s'éloigner du centre et tourner par rapport au centre. Régler le problème des matrices a permis de rendre le déplacement plus naturel. Le personnage peut maintenant se déplacer dans quatre directions et tourner sur lui-même. La seconde figure illustre ces déplacements : 

\begin{figure}[h]
\begin{center}
\includegraphics[scale=0.5]{deplac2.jpg} 
\caption{Déplacement deuxième soutenance}
\end{center}
\end{figure}

\subsubsection{Travail sur les collisions}
Après avoir régler l'affichage et le déplacement des modèles, il a fallut s'occuper des collisions. Dans le monde du jeu vidéo, les collisions sont ce qu'il y a de plus important. Si les collisions sont mal gérées, lors d'un combat par exmple, l'ennemi peut nous frapper mais pas le contraire. \\
Je suis allé cherché des informations concernant les collisions sur internet. Les résultats ne manquaient pas. De nombreuses techniques sont expliquées. Il y a par exemple celle utilisant des \bsc{BoundingBox}. Des coordonnées définissent une boîte en trois dimensions contenant le modèle. Ensuite une méthode permet de savoir si deux \bsc{BoundingBox} sont en collisions. Une autre méthode consiste à utiliser les coordonnées d'un modèle et à regarder où il se situe par rapport aux autres modèles. Si deux coordonnées sont trop proches, alors on estime qu'il y a collision.\\
Nous avons choisi de retenir la méthode utilisant les \bsc{BoundingBox}. Elle permet de tester les collisions de manière souple et rapide. Voici une illustration qui montre comment sont gérés les \bsc{BoundingBox} par XNA : 

\begin{figure}[h]
\begin{center}
\includegraphics[scale=0.7]{BoundingBox.jpg}
\caption{Gestion des \bsc{BoundingBox}}
\end{center}
\end{figure}

Les traits blanc représentent les \bsc{BoundingBoxes}. L'utilisation de celles-ci est pratique car 

\newpage

\subsection{Khalis Chalabi}

\subsubsection{Avancement du projet}

\par
Dans cette partie je vais vous présenter dans un premier les différentes tâches que j'ai accomplies pour cette deuxième  soutenance et les problèmes que j'ai rencontrés.
\newline
\newline
\underline{Finalisation des classes Personnages, Objets et Décors :}

\par
Lors de la première soutenance Lenny et moi avons implémenté les classes mères Personnages, Objet et Décors mais il manquait quelques classes filles. Pour cette soutenance je me suis donc occupé des classes filles PNJ (personnages non jouables), objets utilitaires et outils avec l’aide de Lenny. Ces classes n’ont pas été très difficiles à implémenter car elles héritaient des classes mères. Elles n’avaient besoin que de constructeurs et éventuellement de quelques propriétés ou méthodes supplémentaires. Je pense qu’au cours de l’avancement du projet il y aura peut-être quelques modifications à ajouter à ces classes en fonction des bugs et de nos envies personnelles mais elles sont globalement finies.

\subsection{Lenny \textcolor{red}{"Le Noob"} Danino}
\subsubsection{Personnages/Décors}

\par
Les textures des personnages sont des éléments très important dans le jeu car elles sont ce qui est immédiatement regardé par les joueurs. Il faut qu’elles soient jolies et agréables sinon les joueurs ne voudront pas jouer au jeu. Ainsi nous avons décidé qu’il serait préférable de dessiner par-dessus des textures provenant d’images sur internet. Cela apporte un degré de réalisme non négligeable.
\newline
\newline
\underline{Réalisations:}

\par
\underline{Les textures et le code:}
\newline

\par
Premièrement il a fallu réaliser un modèle de base pour les personnages découpé avec Blender.  Ce logiciel est extrêmement utile mais je n’y avais jamais touché et il m’a donc fallu l’aide de Louis et de tutos pour parvenir à me débrouiller suffisamment. Nous avons préféré rendre notre personnage cubique. C’était intéressant à faire car cela nécessitait de visualiser l’ensemble dans l’espace comme lorsqu’on découpe un cube.
\begin{center}
\includegraphics[scale=0.3]{decoupe.jpg}
\end{center}
\newpage
En me basant sur le modèle j’ai pu créer les textures de 2 personnages. J’ai utilisé Photoshop, qui comme Blender m’était entièrement inconnu, pour la correction des images et la découpe. Puis j’ai visualisé le résultat avec Blender. Je vous présente donc le Pnj des prisonniers :
\newline

\begin{center}
\includegraphics[scale=0.8]{prisonnierblend.png}
\end{center}
\begin{center}
\includegraphics[scale=0.2]{prisonnier.png}
\end{center}
\newpage
Et voici un des ennemis en dehors de la prison : 
\begin{center}
\includegraphics[scale=0.8]{ennemidehorsblend.png}
\end{center}
\begin{center}
\includegraphics[scale=0.2]{ennemidehors.png}
\end{center}
\par
Cependant dessiner des personnages reste un aspect graphique. J’ai dû en effet toucher au code des classes pour pouvoir les insérer. Avec l’aide de Khalis, qui s’est occupé d’autres personnages, j’ai donc terminé les classes Pnj, Objets Utilitaires et Outils.
De même je m’étais occupe dans la première soutenance des classes Décors, Murs et Objets. Pour parfaitement les terminer j’ai dû effectuer les mêmes étapes que pour les personnages.
\newpage
Voici le modèle des murs :
\begin{center}
\includegraphics[scale=0.5]{mur_patron.png}
\end{center}
Voici une des textures utilises :
\begin{center}
\includegraphics[scale=0.5]{mur_brique.png}
\end{center}
\subsubsection{Et après ?}
\par
Pour notre troisième soutenance je vais me fixer quelques objectifs à atteindre :
\newline

\par
\underline{Le multijoueur}
\newline
\par
Je compte terminer le multijoueur car même si aujourd'hui il est fonctionnel, je compte l'améliorer. Cela me permettra de progresser dans le code aussi.
\newline

\par
\underline{Les sons}
\newline
\par
Je compte rajouter des sons pour que l'ambiance du jeu soit complète lors de la troisième soutenance avec l’aide d’Anatole.
\newline

\par
\underline{L'éditeur de map}
\newline
\par
Enfin, je compte participer à l'édition des maps pour donner une dimension esthétique à notre jeu.
\newline

\par
\underline{Remerciements}
\newline
\par
Comment ne pas terminer encore une fois sur des remerciements à mon groupe qui reste soudé malgré nos différents? C'est donc pour cela que je remercie notre leader Louis qui soude quotidiennement notre équipe et nous encourage lorsque certains problèmes sont rencontrés, notre visionnaire Anatole qui aide à la projection du projet ainsi qu'à son aboutissement et toujours Khalis qui amène la bonne humeur tous les jours.

\newpage

\subsection {Anatole\textcolor {pseudoblue} {\textit {"Totonut"}} Moreau}
\newpage
\begin{tabular}{|c|p{2cm}|p{2cm}|p{2cm}|}


\hline
& Première soutenance & Deuxième soutenance & Troisième soutenance\\ 
\hline

Codage décors & 70\% & 100\% & 100\%\\
\hline
Codage objets & 70\% & 100\% & 100\%\\
\hline
Codage personnages & 70\% & 90\% & 100\%\\
\hline

Graphismes 2D/3D & - & 60\% & 100\%\\
\hline

Site web & 70\% & 100\% & 100\%\\
\hline

Son & 20\% & 80\% & 100\%\\
\hline

Collisions & - & 50\% & 100\%\\
\hline

Affichage & 70\% & 100\% & 100\%\\
\hline

Boucle de jeu & - & 50\% & 100\%\\
\hline

Interaction entre éléments du jeu & 20\% & 70\% & 100\%\\
\hline

Menu & 50\% & 100\% & 100\%\\
\hline

Réseau & - & 100\% & 100\%\\
\hline

Multijoueur & - & 60\% & 100\%\\
\hline

\end{tabular}

\section{Conclusion}

\end{document}
